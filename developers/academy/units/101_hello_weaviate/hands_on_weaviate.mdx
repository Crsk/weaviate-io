---
title: Hands-on with Weaviate
sidebar_position: 40
---

## Vectors in action

import imageUrl from '../../tmp_images/academy_placeholder.jpg';

<img src={imageUrl} alt="Image alt" width="75%"/>

Now that you have learned what vector searches are, and set up a WCS instance, let's dive in and start to get our hands a little bit dirty. 

We will try vector searches in action by searching through our demo database that contains multiple datasets. You will learn how to use Weaviate to retrieve objects based on their similarity, using various query types such as an input text, vector, or object. 

You will also compare vector search with keyword search to compare and contrast the two techniques, before learning how to combine the two techniques through the use of filters.

### Vector search in action

![](../../tmp_images/students_looking_at_computer_screen_with_code_0.jpg)

For our first search, let's look through our demo dataset which contains a small sample of questions from the quiz show *Jeopardy!*. 

Imagine that you're running a quiz night, and want to get some questions around the category of just anything that goes "fast". You could look for word matches - perhaps something like:

```sql
SELECT question, answer 
FROM jeopardy_questions 
WHERE question LIKE '%fast%' 
OR question LIKE '%speedy%' 
OR question LIKE '%quick%' 
OR question LIKE '%swift%' 
OR question LIKE '%rapid%' 
OR question LIKE '%dashing%' 
OR question LIKE '%blazing%' 
OR question LIKE '%sprinting%' 
OR question LIKE '%velocity%' 
OR question LIKE '%acceleration%' 
OR question LIKE '%high-speed%'
```

Or maybe you could relate them to certain objects? Like:

```sql
SELECT question, answer 
FROM jeopardy_questions
WHERE (question LIKE '%fast%' OR question LIKE '%speedy%' OR question LIKE '%quick%' OR question LIKE '%rapid%')
   OR (question LIKE '%race%' OR question LIKE '%rally%' OR question LIKE '%formula%')
   OR (question LIKE '%vehicle%' OR question LIKE '%car%' OR question LIKE '%motor%' OR question LIKE '%cycle%')
```

But this is very difficult. 

Not so much with Weaviate, though. The next query will retrieve questions related to the input query "fast things". Try running it yourself:

<details>
  <summary><i class="fa-solid fa-code"></i> See the full query</summary>

```graphql
{
  Get {
    JeopardyQuestion (
      nearText: {
        concepts: ["fast things"]
      }
      limit: 3
    ) {
      question
      answer
    }
  }
}
```

</details>

Weaviate retrieves the below a the top answers:

- **the automobile**: In 1922 Warren Harding said that this \"gauges the speed of our present-day life. It long ago ran down simple living
- **Bonnie Blair**: At the 1994 Olympics, this U.S. woman speed skater surpassed Eric Heiden's medal total
- **jai alai**: In this sport a long basket called a cesta is worn on one hand

<details>
  <summary><i class="fa-solid fa-radar"></i> See the full JSON response from Weaviate</summary>

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "answer": "the automobile",
          "question": "In 1922 Warren Harding said that this \"gauges the speed of our present-day life. It long ago ran down simple living\""
        },
        {
          "answer": "Bonnie Blair",
          "question": "At the 1994 Olympics, this U.S. woman speed skater surpassed Eric Heiden's medal total"
        },
        {
          "answer": "jai alai",
          "question": "In this sport a long basket called a cesta is worn on one hand"
        }
      ]
    }
  }
}
```

</details>

Note just how relevant the results are, despite their diversity and difference. 

The concept of a car, especially in the eyes of someone from 1922, a champion speed skater, or a sport involving an incredibly fast ball - none of them included the word "fast", all match the description very well. 

This is exactly what we have been learning about - vector searches identifying related objects without the need to match exact texts. 

### Vector similarities in action

What if we run *this* query? What will we get back?

```graphql
{
  Get {
    JeopardyQuestion (
      nearText: {
        concepts: ["European geography"]
      }
      limit: 3
    ) {
      question
      answer
      _additional {
        distance
      }
    }
  }
}
```

Take a look at this response. What do you notice that is different?

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "_additional": {
            "distance": 0.21701801
          },
          "answer": "Atlantic Ocean",
          "question": "Some say the Weddell Sea is an arm of the Antarctic Ocean; others say it's part of this larger ocean"
        },
        ...
      ]
    }
  }
}
```

<details>
  <summary><i class="fa-solid fa-radar"></i> See the full JSON response from Weaviate</summary>

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "_additional": {
            "distance": 0.21701801
          },
          "answer": "Atlantic Ocean",
          "question": "Some say the Weddell Sea is an arm of the Antarctic Ocean; others say it's part of this larger ocean"
        },
        {
          "_additional": {
            "distance": 0.22529364
          },
          "answer": "Champagne",
          "question": "Sparkling wine sold under the name Champagne must come from this region in Northeast France"
        },
        {
          "_additional": {
            "distance": 0.22557938
          },
          "answer": "Yucatan Peninsula",
          "question": "In 1517 Cordova became the first Spaniard to reach Mexico when he landed on this east coast peninsula"
        }
      ]
    }
  }
}
```

</details>

The answer now contains a "distance" value - indicative of the degree of similarity between the returned object and the query. 

If you're wondering exactly what that means, and who decides how similar any two objects or concepts are, those are great questions! We will cover those in more detail later. 

For now, just keep in mind that smaller distances mean two objects are more similar to each other. 

## Beyond vector searching

<img src={imageUrl} alt="Image alt" width="75%"/>

You can do a lot more with Weaviate than what we think of as simple "search". Let's take a look at a couple of examples, where we do more than simply retrieve objects from the database. 

We'll use this Wiki entry as an example:

<details>
  <summary>The Sydney Opera House" Wikipedia summary</summary>

The Sydney Opera House is a multi-venue performing arts centre in Sydney. Located on the foreshore of Sydney Harbour, it is widely regarded as one of the world's most famous and distinctive buildings and a masterpiece of 20th-century architecture.Designed by Danish architect JÃ¸rn Utzon, but completed by an Australian architectural team headed by Peter Hall, the building was formally opened by Queen Elizabeth II on 20 October 1973 after a gestation beginning with Utzon's 1957 selection as winner of an international design competition. The Government of New South Wales, led by the premier, Joseph Cahill, authorised work to begin in 1958 with Utzon directing construction. The government's decision to build Utzon's design is often overshadowed by circumstances that followed, including cost and scheduling overruns as well as the architect's ultimate resignation.The building and its surrounds occupy the whole of Bennelong Point on Sydney Harbour, between Sydney Cove and Farm Cove, adjacent to the Sydney central business district and the Royal Botanic Gardens, and near to the Sydney Harbour Bridge.

The building comprises multiple performance venues, which together host well over 1,500 performances annually, attended by more than 1.2 million people. Performances are presented by numerous performing artists, including three resident companies: Opera Australia, the Sydney Theatre Company and the Sydney Symphony Orchestra. As one of the most popular visitor attractions in Australia, the site is visited by more than eight million people annually, and approximately 350,000 visitors take a guided tour of the building each year. The building is managed by the Sydney Opera House Trust, an agency of the New South Wales State Government.

On 28 June 2007, the Sydney Opera House became a UNESCO World Heritage Site, having been listed on the (now defunct) Register of the National Estate since 1980, the National Trust of Australia register since 1983, the City of Sydney Heritage Inventory since 2000, the New South Wales State Heritage Register since 2003, and the Australian National Heritage List since 2005. The Opera House was also a finalist in the New7Wonders of the World campaign list.

</details>

### Question-answering in action

For one, Weaviate can extract knowledge from text. 

```graphql
{
  Get {
    WikiArticle (
      ask: {
        question: "When did construction for the Sydney Opera House start?",
        properties: ["wiki_summary"]
      },
      limit: 1
    ) {
      title
      _additional {
        answer {
          hasAnswer
          property
          result
          startPosition
          endPosition
        }
      }
    }
  }
}
```

Given this question, Weaviate can not only identify the most relevant object, but also the actual answer, based on the textual information above!

<details>
  <summary>See response</summary>

:::note Weaviate says:
Construction for the Sydney Opera House started in 1958.
:::

</details>

### Generative search in action

Weaviate can do even more with these entries, too. You can ask it to grab an object from its store, like the Wikipedia entry above for the Sydney Opera House, and generate derivative text.

```graphql
{
  Get {
    WikiArticle(
      nearText: {
        concepts: ["Sydney Opera House"]
      }
      limit: 1
    ) {
      title
      wiki_summary
      _additional {
        generate(
          singleResult: {
            prompt: """
              Write a fun tweet encouraging people to read about this: ## {title} 
              by summarizing highlights from: ## {wiki_summary}
            """
          }
        ) {
          singleResult
          error
        }        
      }
    }
  }
}
```

For example, the above will generate a Tweet based on the Wikipedia entry!

<details>
  <summary>See response</summary>

:::note Weaviate says:
Explore the world-famous Sydney Opera House and its incredible architecture! From the iconic design to the amazing performances, there's something for everyone to enjoy. #SydneyOperaHouse #Explore #Architecture #Performances #Experience
:::

</details>

You could of course vary the prompt to build any number of other outputs from this input. So you can see already how Weaviate makes it easy to not only retrieve information, but build on top of your information.

## Review

:::warning TODO
Video here
:::

### Review exercise

Can you describe, in your own sentence, XXX?

:::warning TODO
Input box for user to put answer in and get back a similarity score & our definition?
??
:::

### Key takeaways

:::info
Add summary
:::