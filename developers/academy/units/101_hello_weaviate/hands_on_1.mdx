---
title: Hands-on 1 - Queries
sidebar_position: 40
---

## <i class="fa-solid fa-square-chevron-right"></i>&nbsp;&nbsp;Vectors in action

import imageUrl from '../../tmp_images/academy_placeholder.jpg';

<img src={imageUrl} alt="Image alt" width="75%"/>

Now that you have learned what vector searches are, and set up a WCS instance, let's dive in and start to get our hands a little bit dirty. 

We will try vector searches by searching through our demo database that contains multiple datasets. You will learn how to use Weaviate to retrieve objects based on their similarity, using various query types such as an input text, vector, or object. 

You will also compare vector search with keyword search to compare and contrast the two techniques, before learning how to combine the two techniques through the use of filters.

### <i class="fa-solid fa-chalkboard"></i>&nbsp;&nbsp;Vector search demo

![](../../tmp_images/students_looking_at_computer_screen_with_code_0.jpg)

For our first search, let's look through our demo dataset which contains a small sample of questions from the quiz show *Jeopardy!*. 

Imagine that you're running a quiz night, and want to get some questions around the category of just anything that goes "fast". You could look for word matches - perhaps something like:

```sql
SELECT question, answer 
FROM jeopardy_questions 
WHERE question LIKE '%fast%' 
OR question LIKE '%speedy%' 
OR question LIKE '%quick%' 
OR question LIKE '%swift%' 
OR question LIKE '%rapid%' 
OR question LIKE '%dashing%' 
OR question LIKE '%blazing%' 
OR question LIKE '%sprinting%' 
OR question LIKE '%velocity%' 
OR question LIKE '%acceleration%' 
OR question LIKE '%high-speed%'
```

Or maybe you could relate them to certain objects? Like:

```sql
SELECT question, answer 
FROM jeopardy_questions
WHERE (question LIKE '%fast%' OR question LIKE '%speedy%' OR question LIKE '%quick%' OR question LIKE '%rapid%')
   OR (question LIKE '%race%' OR question LIKE '%rally%' OR question LIKE '%formula%')
   OR (question LIKE '%vehicle%' OR question LIKE '%car%' OR question LIKE '%motor%' OR question LIKE '%cycle%')
```

But this is very difficult. 

Not so much with Weaviate, though. See what happened when we ran the following query:

:::note We searched Weaviate for:
Fast things
:::

<details>
  <summary><i class="fa-solid fa-code"></i> See the full query</summary>

```graphql
{
  Get {
    JeopardyQuestion (
      nearText: {
        concepts: ["fast things"]
      }
      limit: 3
    ) {
      question
      answer
    }
  }
}
```

</details>

Weaviate retrieved these as the top answers:

:::note Weaviate retrieved:
- **the automobile**: In 1922 Warren Harding said that this "gauges the speed of our present-day life. It long ago ran down simple living"
- **Bonnie Blair**: At the 1994 Olympics, this U.S. woman speed skater surpassed Eric Heiden's medal total
- **jai alai**: In this sport a long basket called a cesta is worn on one hand
:::

<details>
  <summary><i class="fa-solid fa-radar"></i> See the JSON response</summary>

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "answer": "the automobile",
          "question": "In 1922 Warren Harding said that this \"gauges the speed of our present-day life. It long ago ran down simple living\""
        },
        {
          "answer": "Bonnie Blair",
          "question": "At the 1994 Olympics, this U.S. woman speed skater surpassed Eric Heiden's medal total"
        },
        {
          "answer": "jai alai",
          "question": "In this sport a long basket called a cesta is worn on one hand"
        }
      ]
    }
  }
}
```

</details>

Note just how relevant the results are, despite their diversity and difference. 

The results are a car (in the eyes of someone from 1922), a champion speed skater, or a sport involving an incredibly fast ball. 

None of these included the word "fast", but all match the description very well. 

This is exactly why vector searches are so useful. They can identify related objects without the need to match exact texts. 

### <i class="fa-solid fa-chalkboard"></i>&nbsp;&nbsp;Vector similarities demo

What if we run *this* query? What will we get back?

```graphql
{
  Get {
    JeopardyQuestion (
      nearText: {
        concepts: ["European geography"]
      }
      limit: 3
    ) {
      question
      answer
      _additional {
        distance
      }
    }
  }
}
```

Take a look at this response. Do you notice any additional information?

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "_additional": {
            "distance": 0.21701801
          },
          "answer": "Atlantic Ocean",
          "question": "Some say the Weddell Sea is an arm of the Antarctic Ocean; others say it's part of this larger ocean"
        },
        ...
      ]
    }
  }
}
```

<details>
  <summary><i class="fa-solid fa-radar"></i> See the full JSON response from Weaviate</summary>

```json
{
  "data": {
    "Get": {
      "JeopardyQuestion": [
        {
          "_additional": {
            "distance": 0.21701801
          },
          "answer": "Atlantic Ocean",
          "question": "Some say the Weddell Sea is an arm of the Antarctic Ocean; others say it's part of this larger ocean"
        },
        {
          "_additional": {
            "distance": 0.22529364
          },
          "answer": "Champagne",
          "question": "Sparkling wine sold under the name Champagne must come from this region in Northeast France"
        },
        {
          "_additional": {
            "distance": 0.22557938
          },
          "answer": "Yucatan Peninsula",
          "question": "In 1517 Cordova became the first Spaniard to reach Mexico when he landed on this east coast peninsula"
        }
      ]
    }
  }
}
```

</details>

The difference is that the response now contains a `distance` value. 

A `distance` is indicative of the degree of similarity between the returned object and the query. 

If you're wondering exactly what that means, and who decides how similar any two objects or concepts are, those are great questions! We will cover those in more detail later. 

For now, just keep in mind that smaller distances mean two objects are more similar to each other. 

## <i class="fa-solid fa-square-chevron-right"></i>&nbsp;&nbsp;Try it yourself

### <i class="fa-solid fa-code"></i>&nbsp;&nbsp;Vector searches

<img src={imageUrl} alt="Image alt" width="75%"/>

:::note Try vector searches
Go to `INSERT URL` and try your own searches.

- Input box for user to put in their (or demo) Weaviate instance, and try queries
- Perhaps just a GraphQL box
:::

## <i class="fa-solid fa-square-chevron-right"></i>&nbsp;&nbsp;Review

:::warning TODO
Video here
:::

### <i class="fa-solid fa-pen-to-square"></i>&nbsp;&nbsp;Review exercise

Can you describe, in your own sentence, XXX?

:::warning TODO
Input box for user to put answer in and get back a similarity score & our definition?
??
:::

### <i class="fa-solid fa-lightbulb-on"></i>&nbsp;&nbsp;Key takeaways

:::info
Add summary
:::